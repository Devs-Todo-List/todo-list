FROM node:16

ENV DB_CONNECTION_STRING=${DB_CONNECTION_STRING}
ENV USERPOOL_ID=${USERPOOL_ID}
ENV COGNITO_CLIENTID=${COGNITO_CLIENTID}
ENV AWS_ACCESS_ID=${AWS_ACCESS_ID}
ENV AWS_ACCESS_SECRET=${AWS_ACCESS_SECRET}

WORKDIR /app

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 5173

CMD ["npm", "start"]